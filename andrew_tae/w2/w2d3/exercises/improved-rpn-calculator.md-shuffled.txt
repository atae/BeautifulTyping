["# RPN Calculator with I/O\n", "\n", "You've written an RPN calculator. Now it's time to go back, refactor,\n", "and improve it by adding some new functionality. You can do this in your\n", "existing RPN calculator Ruby file. You should be able to invoke your\n", "modified calculator as a script from the command line. You should be\n", "able to, optionally, give it a filename on the command line, in which\n", "case it opens and reads each line in that file:\n", "\n", "```\n", "# calculator_instructions.txt\n", "5 2 + 4 *\n", "1 2 * 1 +\n", "\n", "# command prompt\n", "~$ ruby 12_rpn_calculator.rb calculator_instructions.txt\n", "28 #=> printed result\n", "3  #=> printed result\n", "```\n", "\n", "If no filename argument is passed, it should have a user interface that\n", "reads from standard input one operand or operator at a time. If the user\n", "hits `enter` with no operand, the calculator should run and output its\n", "result.\n", "\n", "```\n", "~$ ruby 12_rpn_calculator.rb\n", "5\n", "2\n", "+\n", "4\n", "*\n", "\n", "28 #=> printed result, program ends\n", "```\n", "\n", "For the moment, there aren't tests for the IO functionality of the\n", "calculator. Just make sure that it continues to pass the original specs,\n", "and play around with file/command line input on your own to make sure\n", "that it works. It will be a good exercise in debugging!\n", "\n", "**NB**: If you write your user interaction code right at the bottom of\n", "the file, you will almost certainly cause the specs to fail. This is\n", "because, when RSpec `require`s your RPN calculator file, that code will\n", "be run (and RSpec will get stuck waiting for `gets`). You can avoid the\n", "issue by wrapping your code like so:\n", "\n", "```rb\n", "if __FILE__ == $PROGRAM_NAME\n", "  # your code here\n", "end\n", "```\n", "\n", "Without going into too much detail: the `__FILE__ == $PROGRAM_NAME`\n", "condition will only evaluate to `true` if you are invoking the file\n", "directly from the command line (i.e., `ruby 12_rpn_calculator.rb`). It\n", "will evaluate to `false` if the file is loaded in some other way\n", "(through the debugger, in pry, or through a `require` statement). If you\n", "use this snippet, you will be happy (because you can play with your\n", "calculator), and RSpec will be happy (because it can load and test your\n", "file). Great success!\n"]